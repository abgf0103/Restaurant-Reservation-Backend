<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.re.kh.mapper.StoreMapper">

    <!-- 가게 목록 -->
    <select id="selectAllStore" parameterType="SearchHelper" resultType="StoreVO">
        SELECT *
        FROM STORE
    </select>

    <!-- 가게 등록 -->
    <insert id="insertStore"
            parameterType="StoreVO">
        INSERT INTO STORE (
            USER_ID,
            STORE_NAME,
            ADDRESS,
            STORE_HOURS,
            PHONE,
            DESCRIPTION
        ) VALUES ( #{userId} -- 사업자 ID
                 , #{storeName} -- 가게 이름
                 , #{address} -- 주소
                 , #{storeHours} -- 가게 영업 시간
                 , #{phone} -- 가게 연락처
                 , #{description} --가게 소개글
        )
    </insert>

    <!-- 가게 수정 -->
    <update id="updateStore"
            parameterType="StoreVO">
        UPDATE STORE
            <set>
                <if test="storeName != null">STORE_NAME = {storeName}, </if>
                <if test="storeName != null">ADDRESS = {address}, </if>
                <if test="storeName != null">STORE_HOURS = {storeHours}, </if>
                <if test="storeName != null">STORE_STATUS = {storeStatus}, </if>
                <if test="storeName != null">PHONE = {phone}, </if>
                <if test="storeName != null">DESCRIPTION = {description}, </if>
                UPDATED_AT = #{updatedAt}
            </set>
--         WHERE STORE_ID = #{storeId};
    </update>


    <!-- 가게 삭제 -->
    <delete id="deleteStore"
            parameterType="Long">
        DELETE FROM STORE
        WHERE STORE_ID = #{storeId}
    </delete>

    <!-- 가게 조회 -->
    <select id="viewStore"
            parameterType="Long"
            resultType="StoreVO">
        SELECT *
        FROM STORE
        WHERE STORE_ID = #{storeId}
    </select>
</mapper>